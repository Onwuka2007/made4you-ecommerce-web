<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign Up | Made4You</title>
    <link rel="stylesheet" href="../output.css" />

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;1,600&family=Inter:wght@400;500;600;700&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Quintessential&display=swap"
      rel="stylesheet"
    />
    <!-- Google Font -->
    <link
      href="https://fonts.googleapis.com/css2?family=Carattere&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Quintessential&display=swap"
      rel="stylesheet"
    />

    <!-- Favicon -->
    <link
      rel="shortcut icon"
      href="../assets/icons/favicon.svg"
      type="image/x-icon"
    />

    <style>
      .form-input-bottom {
        border: none;
        border-bottom: 1px solid #e0e0e0;
        border-radius: 0;
        padding-left: 0;
        padding-right: 0;
        background-color: transparent;
      }
      .form-input-bottom:focus {
        outline: none;
        ring: 0;
        box-shadow: none;
        border-bottom: 1px solid #000000;
      }
      .dark .form-input-bottom {
        border-bottom-color: #4a4a4a;
        color: #ffffff;
      }
      .dark .form-input-bottom:focus {
        border-bottom-color: #ffffff;
      }
      .dark .form-input-bottom::placeholder {
        color: #9ca3af;
      }
    </style>
  </head>

  <body class="bg-white">
    <section class="flex min-h-screen flex-col md:flex-row overflow-hidden">
      <!-- Left Hero -->
      <div class="hidden md:block w-1/2 h-screen">
        <img
          src="../assets/images/Timini-3.jpeg"
          alt="Join Us"
          class="w-full h-full object-cover"
        />
      </div>

      <!-- Mobile Hero -->
      <div
        class="md:hidden rounded-b-lg shadow-lg text-white px-4 py-8 relative overflow-hidden"
        style="
          background-image: url('../assets/images/Timini-3.jpeg');
          background-position: center;
          object-fit: cover;
          background-size: cover;
        "
      >
        <div class="absolute inset-0 bg-black/70"></div>
        <div class="relative z-10">
          <div class="flex items-center justify-center text-center gap-2 mb-15">
            <a href="https://made4you.vercel.app/" class="absolute top-0">
              <img
                src="../assets/icons/whiteLogo.svg"
                alt="logom4u"
                id="blackLogo"
                class="h-12 md:h-15 md:hidden"
              />

              <img
                src="../assets/icons/blackLogo.svg"
                alt="logom4u"
                id="whiteLogo"
                class="h-12 md:h-15 hidden md:block"
              />
            </a>
          </div>

          <h1 class="text-3xl md:text-4xl font-bold mb-6 text-center">
            Create Account
          </h1>
          <p class="text-gray-300 text-sm text-center">
            Create a buyer account and get early access to new drops and
            collections.
          </p>
        </div>
      </div>

      <!-- Right Form -->
      <div
        class="flex flex-col justify-center items-center w-full md:w-1/2 px-4 py-10 md:py-0 bg-white md:bg-white/80 md:backdrop-blur-lg md:shadow-xl"
      >
        <div class="w-full max-w-sm">
          <div class="flex items-center justify-center text-center gap-2 mb-10">
            <a href="https://made4you.vercel.app/">
              <img
                src="../assets/icons/blackLogo.svg"
                alt="logom4u"
                id="whiteLogo"
                class="h-15 hidden md:block"
              />
            </a>
          </div>

          <h1 class="text-3xl hidden md:block md:text-4xl font-bold mb-6">
            Create Account
          </h1>
          <p class="text-gray-500 hidden md:block text-sm mb-10">
            Create a buyer account and get early access to new drops and
            collections.
          </p>

          <form class="space-y-5 form">
            <div>
              <label
                class="text-sm font-medium leading-normal sr-only"
                for="text"
                >Username</label
              >
              <input
                autocomplete="name"
                class="form-input-bottom h-12 w-full text-md tracking-wide font-medium leading-2 placeholder:text-gray-400"
                id="fullName"
                name="userName"
                placeholder="Username"
                type="text"
              />
            </div>

            <div>
              <label
                for="email"
                class="text-sm font-medium leading-normal sr-only"
                >Email</label
              >
              <input
                id="email"
                name="email"
                type="email"
                autocomplete="email"
                placeholder="Email address"
                class="form-input-bottom h-12 w-full text-md tracking-wide font-medium leading-2 placeholder:text-gray-400"
              />
            </div>

            <div>
              <label
                for="password"
                class="text-sm font-medium leading-normal sr-only"
                >Password</label
              >
              <input
                id="password"
                name="password"
                type="password"
                autocomplete="new-password"
                placeholder="Password"
                class="form-input-bottom h-12 w-full text-md tracking-wide font-medium leading-2 placeholder:text-gray-400"
              />
            </div>

            <div>
              <label
                for="password"
                class="text-sm font-medium leading-normal sr-only"
                >Cofirm Password</label
              >
              <input
                id="confirmPassword"
                name="confirmPassword"
                type="password"
                placeholder="Confirm password"
                class="form-input-bottom h-12 w-full text-md tracking-wide font-medium leading-2 placeholder:text-gray-400"
              />
            </div>
            <!-- onclick="register()" -->
            <button
              type="submit"
              class="w-full bg-black text-white py-3 rounded-full font-medium hover:bg-gray-800 transition shadow-md cursor-pointer mt-5"
            >
              Sign Up
            </button>
          </form>

          <p class="text-center text-gray-500 mt-6 text-sm">
            Already have an account?
            <a
              href="./login.html"
              class="text-black font-medium hover:underline"
              >Log In</a
            >
          </p>
        </div>
      </div>
    </section>

    <!-- Firebase Modular SDK + Auth -->
    <script>
      const form = document.querySelector("form");

      form.addEventListener("submit", async (e) => {
        e.preventDefault(); // prevent form from refreshing page

        const username = document.getElementById("fullName").value.trim();
        const email = document.getElementById("email").value.trim();
        const password = document.getElementById("password").value;
        const confirmPassword =
          document.getElementById("confirmPassword").value;

        // VALIDATION
        if (!username || !email || !password) {
          alert("Please fill all fields.");
          return;
        }

        if (password !== confirmPassword) {
          alert("Passwords do not match.");
          return;
        }

        if (password.length < 6) {
          alert("Password must be at least 6 characters.");
          return;
        }

        try {
          // CREATE USER
          const userCredential = await createUserWithEmailAndPassword(
            auth,
            email,
            password
          );
          const user = userCredential.user;

          // SAVE USER DATA
          await setDoc(doc(db, "users", user.uid), {
            username,
            email,
            role: "buyer",
            createdAt: new Date().toISOString(),
          });

          alert("Account created successfully!");
          console.log("User saved in Firestore");
        } catch (err) {
          alert(err.message);
          console.error(err);
        }
      });
    </script>
    <!-- <script src="../js/signup.js"></script> -->
  </body>
</html>
